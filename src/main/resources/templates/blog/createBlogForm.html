<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout01}">

<script layout:fragment="script">


    $(document).ready(function(){
       $('#blogLogo').change(function(){
            var logoValue = $('#blogLogo').val()

            console.log(logoValue);
            if(logoValue == 'UNLICENSED')
                $('#logoFile').attr("style", "display:none");
            else
                $('#logoFile').attr("style", "display:block");
       })
    });


</script>


<div layout:fragment="content">
    <section class="page-section mt-5" id="contact">
        <div class="container">
            <h2>블로그 생성</h2>
            <form th:action="@{/main/createBlog}" method="post" enctype="multipart/form-data" th:object="${blogInfoDTO}">
                <div class="form-group mb-3">
                    <label th:for="myProfile">한줄 자기소개</label>
                    <input type="text" th:field="*{myProfile}" class="form-control" placeholder="한줄 자기소개">
                </div>
                <div class="form-group mb-3">
                    <label th:for="blogName">블로그 이름</label>
                    <input type="text" th:field="${blogListDTO.blogName}" class="form-control" placeholder="블로그 이름">
               </div>
                <div class="form-group mb-3">
                    <label th:for="blogName">블로그 설명</label>
                    <input type="text" th:field="${blogListDTO.blogDetail}" class="form-control" placeholder="블로그 설명">
                </div>
                <div class="form-group mb-3 d-flex">
                    <label th:for="titleBgColor">타이틀 컬러</label>
                    <input type="color" th:field="*{titleBgColor}">
                </div>
                <div class="form-group mb-3">
                    <label th:for="boxBgColor">본문 컬러</label>
                    <input type="color" th:field="*{boxBgColor}">
                </div>
                <div class="form-group mb-3">
                    <label th:for="sideBgColor">사이드 컬러</label>
                    <input type="color" th:field="*{sideBgColor}">
                </div>
                <div class="form-group mb-3">
                <label th:for="blogLogo">블로그 로고유무</label>
                    <select th:field="*{blogLogo}" class="form-select" id="blogLogo">
                        <option value="PERMISSION">있음</option>
                        <option value="UNLICENSED">없음</option>
                    </select>
                </div>
                <div class="form-group mb-3" id="logoFile">
                    <label th:for="blogLogo">블로그 로고</label>
                    <input type="file" accept="image/*" name="blogLogoImg">
                </div>
                <div class="form-group mb-3">
                    <label th:for="blogAuthority">블로그 공개범위</label>
                    <select th:field="${blogListDTO.blogAuthority}" class="form-select">
                        <option value="PERMISSION">전체공개</option>
                        <option value="GROUP">그룹공개</option>
                        <option value="UNLICENSED">비공개</option>
                    </select>
                </div>
                <div class="form-group mb-3">
                <label th:for="viewChk">프로필 공개유무</label>
                    <select th:field="*{viewChk}" class="form-select">
                        <option value="PERMISSION">전체공개</option>
                        <option value="GROUP">그룹공개</option>
                        <option value="UNLICENSED">비공개</option>
                    </select>
                </div>
                <input type="submit" class="btn btn-primary" value="블로그생성"/>
                <input type="hidden" th:field="${blogListDTO.member}" th:value="${session.memberDTO.id}">
                <input type="hidden" th:value="${session.memberDTO.id}" name="id">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
            </form>

        </div>
    </section>
</div>

</html>